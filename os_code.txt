import java.util.*;
import java.text.ParseException; 

class Transportservicebook3
{ 
    int seats[];
    int totalBookings;

    Transportservicebook3(int seats)
    {
        this.seats=new int[seats];
    }

    public void book_fcfs(int n, int p[], int process[], String name[], int burst_time[], int arrival_time[], int allot[], Scanner sc)
    {
        int l=0;
        while(l<n)
        {
        	Transportservicebook3.Status_display(allot,n);
        	
            System.out.println("ğ—˜ğ—¡ğ—§ğ—˜ğ—¥ ğ—§ğ—›ğ—˜ ğ—¡ğ—”ğ— ğ—˜ ğ—¢ğ—™ ğ—£ğ—”ğ—¦ğ—¦ğ—˜ğ—¡ğ—šğ—˜ğ—¥ " +(l+1)+": ");
            String Name =sc.next();
            System.out.println("ğ—–ğ—›ğ—¢ğ—¢ğ—¦ğ—˜ ğ—” ğ—¦ğ—˜ğ—”ğ—§ ğ—§ğ—¢ ğ—•ğ—¢ğ—¢ğ—");
            int k = sc.nextInt();
            if(k<=n && k>0)
            {                                       	 
           	    if(allot[k-1]==0)
           	    {
           	    	name[l] = Name;
           	        allot[k-1]=1;
                    System.out.println(" Successfully seat booked!! ");
                    System.out.println("ğ—˜ğ—¡ğ—§ğ—˜ğ—¥ ğ—§ğ—›ğ—˜ ğ—”ğ—¥ğ—¥ğ—œğ—©ğ—”ğ—Ÿ ğ—§ğ—œğ— ğ—˜ ğ—¢ğ—™ ğ—£ğ—”ğ—¦ğ—¦ğ—˜ğ—¡ğ—šğ—˜ğ—¥ " +(l+1)+": ");
                    arrival_time[l] = sc.nextInt();
                    System.out.println("ğ—˜ğ—¡ğ—§ğ—˜ğ—¥ ğ—§ğ—›ğ—˜ ğ—§ğ—œğ— ğ—˜ ğ—§ğ—”ğ—ğ—˜ğ—¡ ğ—•ğ—¬ ğ—£ğ—”ğ—¦ğ—¦ğ—˜ğ—¡ğ—šğ—˜ğ—¥ " +(l+1)+": ");
                    burst_time[l] = sc.nextInt();           
                    process[l]=l+1;
                    if((l+1)!=n)
                    {
                        System.out.println("IS ANY PASSENGER THERE?:    1. YES,  2. NO");int pr = sc.nextInt();
                        if(pr == 1)
                        {
                            p[0] = n;
                        }
                        else if(pr ==2)
                        {
                        	n=l+1;p[0] = n;
                        }
                    }
                    ++l;                
           	    }
           	    else
           	        System.out.println("Aldready booked. Please book from the below given vacant seats");
            }
            else
           	   System.out.println("Please book from the below given vacant seats");   
            }
        }
    
    public void findavgTime_fcfs(int n, String name[], int bt[], int at[])
    { 
    	int ct[] = new int[n];
    	System.out.println(" Total seats have been booked successfully...\n");
    	System.out.println("------------------------------------------------------------------------------------------------------------");
        int wt[] = new int[n], tat[] = new int[n]; 
        int total_wt = 0, total_tat = 0; 

        findWaitingTime(n, bt, wt, at); 
        findTurnAroundTime(n, bt, wt, tat); 

        System.out.printf("            ğ—£ğ—”ğ—¦ğ—¦ğ—˜ğ—¡ğ—šğ—˜ğ—¥               ğ—¡ğ—”ğ— ğ—˜            ğ—•ğ—¨ğ—¥ğ—¦ğ—§ğ—§ğ—œğ— ğ—˜        ğ—”ğ—¥ğ—¥ğ—œğ—©ğ—”ğ—Ÿğ—§ğ—œğ— ğ—˜            ğ—–ğ—¢ğ— ğ—£ğ—Ÿğ—˜ğ—§ğ—œğ—¢ğ—¡ğ—§ğ—œğ— ğ—˜        ğ—ªğ—”ğ—œğ—§ğ—œğ—¡ğ—šğ—§ğ—œğ— ğ—˜           ğ—§ğ—¨ğ—¥ğ—¡ğ—”ğ—¥ğ—¢ğ—¨ğ—¡ğ——ğ—§ğ—œğ— ğ—˜\n"); 

        for (int i = 0; i < n; i++)
        { 
            total_wt = total_wt + wt[i]; 
            total_tat = total_tat + tat[i];
            ct[i] = tat[i] + at[i];
            System.out.print("\n         "+(i+1)+"         "+name[i]+"           "+bt[i]+"            "+at[i]+"               "+ct[i]+"                 "+wt[i]+"                 "+tat[i]+"\n");         
        } 
    	System.out.println("------------------------------------------------------------------------------------------------------------");
    	
        System.out.printf("\nğ—”ğ—©ğ—˜ğ—¥ğ—”ğ—šğ—˜ ğ—ªğ—”ğ—œğ—§ğ—œğ—¡ğ—š ğ—§ğ—œğ— ğ—˜  = "+ (float)total_wt /(float) n+" ms"); 
        System.out.printf("\nğ—”ğ—©ğ—˜ğ—¥ğ—”ğ—šğ—˜ ğ—§ğ—¨ğ—¥ğ—¡ ğ—”ğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğ—§ğ—œğ— ğ—˜  =  "+ (float)total_tat /(float) n+" ms"); 
    }
   
    public void book_priority(int n, int p[], int process[], String name[], int burst_time[], int arrival_time[], int allot[], int priority[], Scanner sc)
    {
        int l = 0;
        while(l<n)
        {
        	Transportservicebook3.Status_display(allot,n);
        	
            System.out.println("ğ—˜ğ—¡ğ—§ğ—˜ğ—¥ ğ—§ğ—›ğ—˜ ğ—¡ğ—”ğ— ğ—˜ ğ—¢ğ—™ ğ—£ğ—”ğ—¦ğ—¦ğ—˜ğ—¡ğ—šğ—˜ğ—¥ " +(l+1)+": ");
            String Name =sc.next();
            System.out.println("ğ—–ğ—›ğ—¢ğ—¢ğ—¦ğ—˜ ğ—” ğ—¦ğ—˜ğ—”ğ—§ ğ—§ğ—¢ ğ—•ğ—¢ğ—¢ğ— ");
            int k = sc.nextInt();
            if(k<=n && k>0)
            {                                       	 
           	    if(allot[k-1]==0)
                {
           	    	name[l] = Name;
            	    allot[k-1]=1;
                    System.out.println(" Successfully seat booked!!");
                    System.out.println("ğ—˜ğ—¡ğ—§ğ—˜ğ—¥ ğ—§ğ—›ğ—˜ ğ—”ğ—¥ğ—¥ğ—œğ—©ğ—”ğ—Ÿ ğ—§ğ—œğ— ğ—˜ ğ—¢ğ—™ ğ—£ğ—”ğ—¦ğ—¦ğ—˜ğ—¡ğ—šğ—˜ğ—¥ " +(l+1)+": ");
                    arrival_time[l] = sc.nextInt();
                    System.out.println("ğ—˜ğ—¡ğ—§ğ—˜ğ—¥ ğ—§ğ—›ğ—˜ ğ—§ğ—œğ— ğ—˜ ğ—§ğ—”ğ—ğ—˜ğ—¡ ğ—•ğ—¬ ğ—£ğ—”ğ—¦ğ—¦ğ—˜ğ—¡ğ—šğ—˜ğ—¥ " +(l+1)+": ");
                    burst_time[l] = sc.nextInt();   
                    System.out.println("ğ—˜ğ—¡ğ—§ğ—˜ğ—¥ ğ—§ğ—›ğ—˜ ğ—”ğ—šğ—˜ ğ—¢ğ—™ ğ—£ğ—”ğ—¦ğ—¦ğ—˜ğ—¡ğ—šğ—˜ğ—¥ " +(l+1)+": ");
                    priority[l] = sc.nextInt();
                    process[l]=l+1;
                    if((l+1)!=n)
                    {
                        System.out.println("IS ANY PASSENGER THERE?:    1. YES,  2. NO");
                        int pr = sc.nextInt();
                        if(pr == 1)
                        {
                            p[0] = n;
                        }
                        else if(pr ==2)
                        {
                        	n=l+1;
                        	p[0] = n;
                        }
                    }
                    ++l;
                    
           	   }
           	   else
           	       System.out.println("Aldready booked. Please book from the below given vacant seats");
            }
            else
           	    System.out.println("Please book from the below given vacant seats");   
        }
        
        for(int i=0;i<n-1;i++)
        {
            for(int j=i+1;j<n;j++)
            {
                if((arrival_time[i]>arrival_time[j])||(arrival_time[j] == arrival_time[i] && priority[j]>priority[i]))
                {
                	int x;
                	String y;
                    x=process[i];
                    process[i]=process[j];
                    process[j]=x;
                    y = name[i];
                    name[i]=name[j];
                    name[j]=y; 
                    x=arrival_time[i];
                    arrival_time[i]=arrival_time[j];
                    arrival_time[j]=x;
                    x=priority[i];
                    priority[i]=priority[j];
                    priority[j]=x;
                    x=burst_time[i];
                    burst_time[i]=burst_time[j];
                    burst_time[j]=x;

                }
            }
        }
    }
    
    public void findavgTime_priority(int n, int process[], String name[], int bt[], int priority[], int at[])
    { 
    	int ct[] = new int[n];
    	System.out.println(" Total seats have been booked successfully...\n");
    	System.out.println("-----------------------------------------------------------------------------------------------------------------------------");
        int wt[] = new int[n], tat[] = new int[n]; 
        int total_wt = 0, total_tat = 0; 

        findWaitingTime(n, bt, wt, at); 
        findTurnAroundTime(n, bt, wt, tat); 

        System.out.printf("            ğ—£ğ—”ğ—¦ğ—¦ğ—˜ğ—¡ğ—šğ—˜ğ—¥           ğ—¡ğ—”ğ— ğ—˜              ğ—•ğ—¨ğ—¥ğ—¦ğ—§ğ—§ğ—œğ— ğ—˜        ğ—”ğ—¥ğ—¥ğ—œğ—©ğ—”ğ—Ÿğ—§ğ—œğ— ğ—˜          ğ—£ğ—¥ğ—œğ—¢ğ—¥ğ—œğ—§ğ—¬ğ—”ğ—šğ—˜           ğ—–ğ—¢ğ— ğ—£ğ—Ÿğ—˜ğ—§ğ—œğ—¢ğ—¡ğ—§ğ—œğ— ğ—˜         ğ—ªğ—”ğ—œğ—§ğ—œğ—¡ğ—šğ—§ğ—œğ— ğ—˜         ğ—§ğ—¨ğ—¥ğ—¡ğ—”ğ—¥ğ—¢ğ—¨ğ—¡ğ——_ğ—§ğ—œğ— ğ—˜\n"); 

        for (int i = 0; i < n; i++)
        { 
            total_wt = total_wt + wt[i]; 
            total_tat = total_tat + tat[i];
            ct[i] = tat[i] + at[i];
            System.out.print("\n         "+process[i]+"         "+name[i]+"           "+bt[i]+"            "+at[i]+"              "+priority[i]+"              "+ct[i]+"               "+wt[i]+"                 "+tat[i]+"\n");         
        } 
    	System.out.println("-----------------------------------------------------------------------------------------------------------------------------");

        System.out.printf("\nğ—”ğ—©ğ—˜ğ—¥ğ—”ğ—šğ—˜ ğ—ªğ—”ğ—œğ—§ğ—œğ—¡ğ—š ğ—§ğ—œğ— ğ—˜  = "+ (float)total_wt /(float) n+" ms"); 
        System.out.printf("\nğ—”ğ—©ğ—˜ğ—¥ğ—”ğ—šğ—˜ ğ—§ğ—¨ğ—¥ğ—¡ ğ—”ğ—¥ğ—¢ğ—¨ğ—¡ğ—— ğ—§ğ—œğ— ğ—˜  =  "+ (float)total_tat /(float) n+" ms"); 
    } 
    
    public static void Status_display(int a[], int n)
    {
   	    System.out.println();
        System.out.println("     ğ—¦ğ—²ğ—®ğ˜ ğ—»ğ—¼.        ğ—¦ğ˜ğ—®ğ˜ğ˜‚ğ˜€");
        for (int i=0;i<n;i++)
        {
            System.out.println("    "+(i+1)+"             "+a[i]);
        }
        System.out.println();
    }
    
    public void findWaitingTime(int n, int bt[], int wt[], int at[])
    { 
        int service_time[] = new int[n]; 
        service_time[0] = 0; 
        wt[0] = 0; 
     
        for (int i = 1; i < n ; i++) 
        { 
        	service_time[i] = service_time[i-1] + bt[i-1]; 
            wt[i] = service_time[i] - at[i]; 
        } 
    } 
    
    public void findTurnAroundTime(int n, int bt[], int wt[], int tat[]) 
    { 
        for (int i = 0; i < n; i++)
        { 
            tat[i] = bt[i] + wt[i]; 
        } 
    } 

}

public class try_dAV{
public static void main(String args[]) 
{ 

    System.out.println(' '); 
    Scanner sc=new Scanner(System.in);
    int i,n,p[];
    int z=0,z1=0,z2=0;
    int select[];
    int process[];
    int arrival_time[];
    int burst_time[];
    int priority[];
    int allot[];
    String name[];

    
    while(z!=3)
    {   System.out.println();
        System.out.println("\n********* ğ“ğ˜ğ‘ğ€ğğ“ ğ‘ğ„ğ’ğ„ğ‘ğ•ğ€ğ“ğˆğğ ğ’ğ˜ğ’ğ“ğ„ğŒ *********");
        System.out.println();
        System.out.println(" ğŸ.ğ…ğ‚ğ…ğ’ ğ“ğˆğ‚ğŠğ„ğ“ ğğğğŠğˆğğ†, \n ğŸ.ğğ‘ğˆğğ‘ğˆğ“ğ˜ ğ“ğˆğ‚ğŠğ„ğ“ ğğğğŠğˆğğ†, \n ğŸ‘.ğ„ğ—ğˆğ“ ");
        int ch=sc.nextInt();
        
        switch(ch)
        { 
            case 1: while(z1!=4)
                    {
            	        System.out.println("   \t \t           ğŸ. ğ€ğˆğ‘ğ‹ğˆğğ„  ğ‘ğ„ğ’ğ„ğ‘ğ•ğ€ğ“ğˆğğ\n   \t \t           ğŸ. ğ‘ğ€ğˆğ‹ğ–ğ€ğ˜  ğ‘ğ„ğ’ğ„ğ‘ğ•ğ€ğ“ğˆğğ");
                        int ch1=sc.nextInt(); 
                        System.out.println();
                        switch(ch1)
                        {
                            case 1:  System.out.println("---------------------------------------------------ğ€ğˆğ‘ğ‹ğˆğğ„  ğ‘ğ„ğ’ğ„ğ‘ğ•ğ€ğ“ğˆğğ");
                                     System.out.println(" *ğ—§ğ—œğ—–ğ—ğ—˜ğ—§ ğ—–ğ—¢ğ—¦ğ—§ğ—¦ ğ—¥ğ—£ğ—¦ ğŸ®ğŸ±ğŸ¬ğŸ¬/- ğ—£ğ—˜ğ—¥ ğ—›ğ—˜ğ—”ğ——*");
                                     System.out.print("present available seats : "); 
                                     n = sc.nextInt();
                                     System.out.println("---------------------------------------------------");
                                     int totalSeats=n;                             
                                     Transportservicebook3 tick=new Transportservicebook3(totalSeats);
                                     p = new int[1];
                                     process = new int[n];
                                     name = new String[n];
                                     arrival_time = new int[n];
                                     burst_time = new int[n];
                                     allot = new int[n];
                                     
                                     tick.book_fcfs(n,p,process,name,burst_time,arrival_time,allot,sc);                                
                                     tick.findavgTime_fcfs(p[0],name, burst_time, arrival_time);z1=4;break;
                                     
                            case 2:  System.out.println("--------------------------------------------------- ğ‘ğ€ğˆğ‹ğ–ğ€ğ˜  ğ‘ğ„ğ’ğ„ğ‘ğ•ğ€ğ“ğˆğğ");
                                     System.out.println(" *ğ—§ğ—œğ—–ğ—ğ—˜ğ—§ ğ—–ğ—¢ğ—¦ğ—§ğ—¦ ğ—¥ğ—£ğ—¦ ğŸ²ğŸ±ğŸ¬/- ğ—£ğ—˜ğ—¥ ğ—›ğ—˜ğ—”ğ——*");
                                     System.out.print("present available seats : "); 
                                     n = sc.nextInt();
                                     System.out.println("---------------------------------------------------");
                                     int totalSeats1=n;                             
                                     Transportservicebook3 tick1=new Transportservicebook3(totalSeats1);
                                     p = new int[1];
                                     process = new int[n];
                                     name = new String[n];
                                     arrival_time = new int[n];
                                     burst_time = new int[n];
                                     allot = new int[n];
                                     
                                     tick1.book_fcfs(n,p,process,name,burst_time,arrival_time, allot,sc);                                
                                     tick1.findavgTime_fcfs(p[0],name, burst_time, arrival_time);z1=4;break;
                            
                            default: System.out.println("Choose from the given options!!");break;
                        }
                    }break;

            case 2: while(z2!=4)
                   {
    	               System.out.println("   \t \t           ğŸ. ğ€ğˆğ‘ğ‹ğˆğğ„  ğ‘ğ„ğ’ğ„ğ‘ğ•ğ€ğ“ğˆğğ\n   \t \t           ğŸ. ğ‘ğ€ğˆğ‹ğ–ğ€ğ˜  ğ‘ğ„ğ’ğ„ğ‘ğ•ğ€ğ“ğˆğğ");
            	       int ch1=sc.nextInt(); 
                       System.out.println();
                       switch(ch1)
                       {
                           case 1:  System.out.println("---------------------------------------------------ğ€ğˆğ‘ğ‹ğˆğğ„  ğ‘ğ„ğ’ğ„ğ‘ğ•ğ€ğ“ğˆğğ");
                                    System.out.println(" *ğ—§ğ—œğ—–ğ—ğ—˜ğ—§ ğ—–ğ—¢ğ—¦ğ—§ğ—¦ ğ—¥ğ—£ğ—¦ ğŸ®ğŸ±ğŸ¬ğŸ¬/- ğ—£ğ—˜ğ—¥ ğ—›ğ—˜ğ—”ğ——*");
                                    System.out.print("present available seats : "); 
                                    n = sc.nextInt();
                                    System.out.println("---------------------------------------------------");
                                    int totalSeats=n;                             
                                    Transportservicebook3 tick=new Transportservicebook3(totalSeats);
                                    p = new int[1];
                                    process = new int[n];
                                    name = new String[n];
                                    arrival_time = new int[n];
                                    burst_time = new int[n];
                                    priority = new int[n];
                                    allot = new int[n];
                             
                                    tick.book_priority(n,p,process,name,burst_time,arrival_time,allot,priority,sc);                               
                                    tick.findavgTime_priority(p[0],process,name, burst_time,priority,arrival_time);z2=4;break;
                             
                           case 2:  System.out.println("---------------------------------------------------ğ‘ğ€ğˆğ‹ğ–ğ€ğ˜  ğ‘ğ„ğ’ğ„ğ‘ğ•ğ€ğ“ğˆğğ");
                                    System.out.println(" *ğ—§ğ—œğ—–ğ—ğ—˜ğ—§ ğ—–ğ—¢ğ—¦ğ—§ğ—¦ ğ—¥ğ—£ğ—¦ ğŸ²ğŸ±ğŸ¬/- ğ—£ğ—˜ğ—¥ ğ—›ğ—˜ğ—”ğ——*");
                                    System.out.print(" present available seats  : ");
                                    n = sc.nextInt();
                                    System.out.println("---------------------------------------------------");
                                    int totalSeats1=n;                             
                                    Transportservicebook3 tick1=new Transportservicebook3(totalSeats1);
                                    p = new int[1];
                                    process = new int[n];
                                    name = new String[n];
                                    arrival_time = new int[n];
                                    burst_time = new int[n];
                                    priority = new int[n];
                                    allot = new int[n];
                             
                                    tick1.book_priority(n,p,process,name,burst_time,arrival_time,allot,priority,sc);                                
                                    tick1.findavgTime_priority(p[0],process,name, burst_time,priority,arrival_time);z2=4;break;
                    
                           default: System.out.println("Choose from the given options!!");break;
                }
            }break;
                    
            case 3:  System.out.println("Exitting...");z=3;break;
        }
    }
}
}